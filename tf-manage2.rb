# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class TfManage2 < Formula
  desc "Terraform workspace manager with enhanced CI/CD detection and interactive commands"
  homepage "https://github.com/sorinlg/tf-manage2"
  version "0.3.1"
  license "MIT"

  depends_on "terraform" => :optional

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/sorinlg/tf-manage2/releases/download/v0.3.1/tf-manage2_Darwin_x86_64.tar.gz", using: CurlDownloadStrategy
      sha256 "5c3cc1c159beba7bf1e23c1cd34bf286100a03bdbe3da75838b7aed185090f01"

      def install
        bin.install "tf"
        bash_completion.install "bin/tf_complete.sh" => "tf_complete"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/sorinlg/tf-manage2/releases/download/v0.3.1/tf-manage2_Darwin_arm64.tar.gz", using: CurlDownloadStrategy
      sha256 "f67a6e91debb2d2687319935384c617b540ddb218ac815c6b4d881d561ae5c91"

      def install
        bin.install "tf"
        bash_completion.install "bin/tf_complete.sh" => "tf_complete"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/sorinlg/tf-manage2/releases/download/v0.3.1/tf-manage2_Linux_x86_64.tar.gz", using: CurlDownloadStrategy
      sha256 "8b2af40824ee37d2db53239d2f2a1d4e7eaa0621a86fd15fbdef308daa26a26a"
      def install
        bin.install "tf"
        bash_completion.install "bin/tf_complete.sh" => "tf_complete"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/sorinlg/tf-manage2/releases/download/v0.3.1/tf-manage2_Linux_arm64.tar.gz", using: CurlDownloadStrategy
      sha256 "0f05a236ad2083484c81dbb152f941b009a3352261d2619aa88ba2f4e0632693"
      def install
        bin.install "tf"
        bash_completion.install "bin/tf_complete.sh" => "tf_complete"
      end
    end
  end

  test do
    system "#{bin}/tf", "--help"
  end
end
